{"version":3,"sources":["components/HomePageSearch.js","components/OneReviewPreview.js","components/RestaurantPicturePreview.js","components/HomePage.js","components/NotFound.js","components/Login.js","components/AddCompany.js","components/Signup.js","components/SignLogPage.js","components/RestaurantsList.js","components/Search.js","components/ResearchResultsListPage.js","components/AddReview.js","components/OneReview.js","components/RestaurantDetails.js","components/NavBar.js","components/UserProfile.js","App.js","serviceWorker.js","index.js"],"names":["HomePageSearch","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","userInput","searchSubmitted","event","value","target","setState","preventDefault","getSearchedTerm","_this2","react_default","a","createElement","Redirect","to","className","onSubmit","handleSubmit","onChange","fetchUserInput","type","name","placeholder","Component","OneReviewPreview","src","alt","getShopUrl","oneResult","yelpId","concat","console","log","id","RestaurantPicturePreview","searchResults","currentUser","axios","get","withCredentials","then","response","data","favorites","catch","err","alert","businesses","splice","map","key","alias","image_url","Link","rating","HomePage","companyName","companyAddress","addressCoordinates","string","src_components_HomePageSearch","src_components_OneReviewPreview","src_components_RestaurantPicturePreview","NotFound","Login","email","originalPassword","_event$target","defineProperty","post","userDoc","onUserChange","_this3","genericSync","AddCompany","handleChange","address","handleSelect","geocodeByAddress","results","formatted_address","fullAddress","getLatLng","latLng","latitude","lat","longitude","lng","error","subOffice","companyDoc","_this$state","handleSubmitEvent","dist_default","onSelect","_ref","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","active","style","backgroundColor","cursor","description","React","Signup","firstName","lastName","companyId","messenger","companiesArray","validationError","isAddingCompany","_event$target2","checked","companiesArrayCopy","toConsumableArray","push","_this4","oneCompany","_id","checkboxSync","onClick","components_AddCompany","SignLogPage","components_Login","components_Signup","RestaurantsList","shopFavored","searchTerm","process","listOfShops","shop","i","length","user","yelpFavorites","includes","shopinFav","previousProps","put","_this5","addShopToFav","Search","handleMultipleSelectChangeDiet","allValsDiet","Array","from","selectedOptions","option","diet","cuisine","price_level","multiple","ResearchResultsListPage","term","src_components_Search","components_RestaurantsList","AddReview","handleMultiSelectChangeCuisine","allValsCuisine","handleMultiSelectChangeDiet","handleMultiSelectChangeTypes","allValsTypes","types","timeframe","comment","shopId","match","max","min","OneReview","reviewsArray","oneReview","userId","oneDiet","oneCuisine","oneType","RestaurantDetails","shopInFav","params","display_phone","price","src_components_AddReview","components_OneReview","NavBar","delete","onLogOut","NavLink","logOutClick","UserProfile","App","syncCurrentUser","src_components_NavBar","Switch","Route","exact","path","render","src_components_HomePage","component","components_ResearchResultsListPage","src_components_SignLogPage","components_UserProfile","Boolean","window","location","hostname","ReactDOM","BrowserRouter","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.11f28206.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./HomePageSearch.css\";\r\n\r\nclass HomePageSearch extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n  \r\n      this.state = {\r\n        userInput: \"\",\r\n        searchSubmitted: false,\r\n      };\r\n    }\r\n  \r\n    fetchUserInput(event) {\r\n      const { value } = event.target;\r\n      //console.log(\"Search/userInput\", this.state.userInput);\r\n      this.setState({ userInput: value });\r\n      //console.log(\"Search/event.target.value\", value);\r\n      //this.props.searchedTerm(value);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n      event.preventDefault();\r\n  \r\n      // const { value } = event.target;\r\n      // console.log(\"Search/event.target.value\", value);\r\n      this.props.getSearchedTerm(this.state.userInput);\r\n      \r\n      this.setState({ searchSubmitted: true });\r\n    }\r\n\r\n    render() {\r\n\r\n      if (this.state.searchSubmitted) {\r\n        //console.log(\"redirect, bitch\")\r\n        // redirect back t the shop list page if the form submission worked hoping that the input will be trasnferred there^^\r\n        return <Redirect to=\"/shop\" />\r\n      }\r\n\r\n      return (\r\n        <section className=\"HomePageSearch\">\r\n        <form onSubmit={event => this.handleSubmit(event)}>\r\n          <label>\r\n            <input onChange={event => this.fetchUserInput(event)}\r\n            value={this.state.userInput}\r\n            type=\"text\" name=\"userInput\" placeholder=\"What are you looking for?\" />\r\n            <button>Look for a place!</button>\r\n          </label>\r\n        </form>\r\n      </section>\r\n      \r\n      );\r\n    }\r\n  }\r\n\r\n \r\nexport default HomePageSearch;","import React, { Component } from \"react\";\r\nimport \"./OneReviewPreview.css\"\r\nclass OneReviewPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"OneReviewPreview\">\r\n        <img src=\"/userpic\" alt=\"user\" />\r\n        <div className=\"ReviewPreview\">\r\n          <p>Rating</p>\r\n          <p>Comment</p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OneReviewPreview;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./RestaurantPicturePreview.css\";\r\n\r\nfunction getShopUrl(oneResult) {\r\n  if (oneResult.yelpId) {\r\n    return `/shop-details/${oneResult.yelpId}`;\r\n  } else {\r\n    console.log(\"oneResult.yelpId\", oneResult.yelpId);\r\n    return `/shop-details/${oneResult.id}`;\r\n  }\r\n}\r\n\r\n\r\nclass RestaurantPicturePreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchResults: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() { \r\n    console.log(\"RestaurantPicturePreview\", this.props.currentUser);\r\n    if (this.props.currentUser) {\r\n      console.log(this.props.currentUser)\r\n      axios.get(process.env.REACT_APP_SERVER_URL + `/api/user-favorites`, { withCredentials: true })\r\n        .then(response => {\r\n          //console.log(\"/user-favorites\", response.data);\r\n          this.setState({searchResults: response.data.favorites});\r\n        })\r\n        .catch(err => {\r\n          console.log(\"Display Favorite Resto FAILED\", err);\r\n          alert(\"Something went wrong with the display of your fav resto, sorry\");\r\n        });\r\n      \r\n    } else {\r\n\r\n    axios\r\n      .get(process.env.REACT_APP_SERVER_URL + `/api/shops/`, { withCredentials: true })\r\n      .then(response => {\r\n        //console.log(\"Response data of shop/searchTerm:\", response.data);\r\n        response.data.businesses.splice(4);\r\n        this.setState({ searchResults: response.data.businesses });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Search page ERROR\", err);\r\n        alert(\"Something went wrong with the search, sorray\");\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { searchResults } = this.state;\r\n    console.log(\"SearchResults\", searchResults);\r\n\r\n    return (\r\n      <section className=\"RestaurantPicturePreview\">\r\n        <ul className=\"ListofRestaurantPicturePreview\">\r\n          {searchResults.map(oneResult => {\r\n            return (\r\n              <li key={oneResult.alias} className=\"OneRestaurantPicturePreview\">\r\n                {/* <Link to={oneResult => this.getShopUrl(oneResult)}> */}\r\n                  <img src={oneResult.image_url} alt=\"restaurant\" />\r\n                {/* </Link> */}\r\n                <Link to={getShopUrl(oneResult)}>\r\n                  <div className=\"RestaurantInfoOverlay\">\r\n                    <p>{oneResult.name}</p>\r\n                    {/* <p>\r\n                      {oneResult.location.address1}{\" \"}\r\n                      {oneResult.location.zip_code} {oneResult.location.city}\r\n                    </p> */}\r\n                    <p>{oneResult.rating}</p>\r\n                  </div>\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RestaurantPicturePreview;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HomePageSearch from \"./HomePageSearch.js\";\r\nimport OneReviewPreview from \"./OneReviewPreview.js\";\r\nimport RestaurantPicturePreview from \"./RestaurantPicturePreview.js\";\r\nimport \"./HomePage.css\";\r\nimport axios from \"axios\";\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      companyName: \"\",\r\n      companyAddress: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // We check if the user is logged-in, if yes, then we send the request to the server (otherwise, it creates an error)\r\n    if (this.props.currentUser) {\r\n      axios\r\n      .get(process.env.REACT_APP_SERVER_URL +  \"/api/user-company\", { withCredentials: true })\r\n      .then(response => {\r\n        //console.log(\"response.data\", response.data)\r\n        const { addressCoordinates } = response.data;\r\n        const name = response.data.name;\r\n        console.log(\"company name\", name)\r\n        console.log(\"company address\", addressCoordinates.string)\r\n        this.setState({ companyName: name, companyAddress: addressCoordinates.string})\r\n      })\r\n      .catch(err => {\r\n        console.log(\"user company info\", err);\r\n        alert(\"Sorry! Something went wrong.\")\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.props;\r\n    //console.log(currentUser);\r\n    const { companyName } = this.state;\r\n    console.log(\"HEYAAAAAAA\", companyName);\r\n    const {companyAddress} = this.state;\r\n    console.log(\"HOAAAAA\", companyAddress);\r\n    return (\r\n      <section className=\"HomePage\">\r\n\r\n        <div className=\"HomePageHeader\">\r\n          <h2>Find the perfect place to have lunch!</h2>\r\n\r\n          <HomePageSearch getSearchedTerm={this.props.getSearchedTerm}/>\r\n\r\n          <div className=\"TextUnderSearch\">\r\n            {currentUser && (\r\n              <div className=\"UserCompanyInfo\">\r\n                <p>{ companyName }, { companyAddress }</p>\r\n              </div>\r\n            )}\r\n\r\n            <Link to=\"/shop\" className=\"FilterLink\">\r\n              <button>+ All filters</button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"LastAddedReviews\">\r\n          {currentUser ? (\r\n            <h3>Last Added Reviews by your Workmates</h3>\r\n          ) : (\r\n            <h3>Last Added Reviews</h3>\r\n          )}\r\n\r\n          <div className=\"reviewsCaroussel\">\r\n            <OneReviewPreview />\r\n            <OneReviewPreview />\r\n            <OneReviewPreview />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bestRatedPlaces\">\r\n          {currentUser ? (\r\n            <h3>Best Rated Places Around You</h3>\r\n          ) : (\r\n            <h3>Best Rated Places</h3>\r\n          )}\r\n\r\n          <RestaurantPicturePreview />\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { Component } from \"react\";\r\n\r\nclass NotFound extends Component {\r\n  state = {  }\r\n  render() { \r\n    return ( \r\n      <section className=\"NotFound\">\r\n      Sorry we're lost\r\n      </section>\r\n     );\r\n  }\r\n}\r\n \r\nexport default NotFound;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      originalPassword: \"\",\r\n    };\r\n  }\r\n\r\n  genericSync(event){\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleSubmit(event){\r\n    event.preventDefault();\r\n\r\n    axios\r\n    .post(process.env.REACT_APP_SERVER_URL + \"/api/login\", this.state, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Login Page\", response.data);\r\n      const { userDoc } = response.data;\r\n      this.props.onUserChange(userDoc);\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Login Page ERROR\", err);\r\n      alert(\"Sorry! Something went wrong\");\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    if(this.props.currentUser){\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    return (\r\n      <section className=\"Login\">\r\n        <h2>Log In</h2>\r\n\r\n        <form onSubmit={event => this.handleSubmit(event)}>\r\n          <input \r\n          value={this.state.email}\r\n          onChange={event => this.genericSync(event)}\r\n          type=\"email\" \r\n          name=\"email\" \r\n          placeholder=\"Email\" \r\n          />\r\n          <input \r\n          value={this.state.originalPassword}\r\n          onChange={event => this.genericSync(event)}\r\n          type=\"password\" \r\n          name=\"originalPassword\" \r\n          placeholder=\"*****\" \r\n          />\r\n          <button>Log In</button>\r\n        </form>\r\n\r\n        \r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport PlacesAutocomplete, {\r\n  geocodeByAddress,\r\n  getLatLng\r\n} from \"react-places-autocomplete\";\r\nimport axios from \"axios\";\r\n\r\nclass AddCompany extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      companyName: \"\",\r\n      subOffice: \"\",\r\n      fullAddress: {},\r\n      address: \"\",\r\n      longitude: 0,\r\n      latitude: 0\r\n    };\r\n  }\r\n\r\n  handleSubmitEvent(event) {\r\n    event.preventDefault();\r\n    console.log(\"SUBMIT THIS STATE (add company form)\", this.state);\r\n    axios\r\n      .post(process.env.REACT_APP_SERVER_URL + \"/api/add-company\", this.state, {\r\n        withCredentials: true\r\n      })\r\n      .then(response => {\r\n        console.log(\"Add company form \", response.data);\r\n        const { companyDoc } = response.data;\r\n        this.props.onUserChange(companyDoc);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Add company form ERROR\", err);\r\n        alert(\"Something went wrong\");\r\n      });\r\n  }\r\n\r\n  handleChange = address => {\r\n    this.setState({ address });\r\n  };\r\n\r\n  handleSelect = address => {\r\n    geocodeByAddress(address)\r\n      .then(results => {\r\n        console.log(\"geocode by address result\", results);\r\n        const address = results[0].formatted_address;\r\n        this.setState({ address, fullAddress: results[0] });\r\n      })\r\n      .then(() => getLatLng(this.state.fullAddress))\r\n      .then(latLng => {\r\n        const latitude = latLng.lat;\r\n        const longitude = latLng.lng;\r\n        this.setState({ longitude, latitude });\r\n      })\r\n      .catch(error => console.error(\"Error\", error));\r\n  };\r\n\r\n  render() {\r\n    // const searchOptions = {\r\n    //   location: new google.maps.LatLng(48.856614, 2.3522219000000177),\r\n    // }\r\n\r\n    const { companyName, subOffice } = this.state;\r\n\r\n    return (\r\n      <form\r\n        className=\"AddYourCompany\"\r\n        onSubmit={event => this.handleSubmitEvent(event)}\r\n      >\r\n        <input\r\n          name=\"name\"\r\n          value={companyName}\r\n          onChange={event => this.setState({ companyName: event.target.value })}\r\n          placeholder=\"Company Name\"\r\n        />\r\n        <input\r\n          name=\"subOffice\"\r\n          value={subOffice}\r\n          onChange={event => this.setState({ subOffice: event.target.value })}\r\n          placeholder=\"Company SUbOffice\"\r\n        />\r\n\r\n        <PlacesAutocomplete\r\n          value={this.state.address}\r\n          onChange={this.handleChange}\r\n          onSelect={this.handleSelect}\r\n          // searchOptions={searchOptions}\r\n        >\r\n          {({\r\n            getInputProps,\r\n            suggestions,\r\n            getSuggestionItemProps,\r\n            loading\r\n          }) => (\r\n            <div>\r\n              <input\r\n                {...getInputProps({\r\n                  placeholder: \"Search Places ...\",\r\n                  className: \"location-search-input\"\r\n                })}\r\n              />\r\n              <div className=\"autocomplete-dropdown-container\">\r\n                {loading && <div>Loading...</div>}\r\n                {suggestions.map(suggestion => {\r\n                  const className = suggestion.active\r\n                    ? \"suggestion-item--active\"\r\n                    : \"suggestion-item\";\r\n                  // inline style for demonstration purpose\r\n                  const style = suggestion.active\r\n                    ? { backgroundColor: \"#fafafa\", cursor: \"pointer\" }\r\n                    : { backgroundColor: \"#ffffff\", cursor: \"pointer\" };\r\n                  return (\r\n                    <div\r\n                      {...getSuggestionItemProps(suggestion, {\r\n                        className,\r\n                        style\r\n                      })}\r\n                    >\r\n                      <span>{suggestion.description}</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </PlacesAutocomplete>\r\n\r\n        <button>Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddCompany;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./SignLogPage.css\";\r\nimport AddCompany from \"./AddCompany.js\";\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      companyId: \"\",\r\n      originalPassword: \"\",\r\n      messenger: false,\r\n      currentUser: null,\r\n      companiesArray: [],\r\n      validationError: \"\", // prevent the user from selecting the blank company in the dropdown\r\n      isAddingCompany: false,\r\n      companyDoc: \"\",\r\n    };\r\n  }\r\n\r\n  genericSync(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  checkboxSync(event) {\r\n    const { name, checked } = event.target;\r\n    this.setState({ [name]: checked });\r\n  }\r\n\r\n  handleSubmitEvent(event) {\r\n    event.preventDefault();\r\n    //console.log(\"SUBMIT THIS STATE\", this.state)\r\n    axios\r\n      .post(process.env.REACT_APP_SERVER_URL + \"/api/signup\", this.state, {\r\n        withCredentials: true\r\n      })\r\n      .then(response => {\r\n        //console.log(\"Signup Page\", response.data);\r\n        const { userDoc } = response.data;\r\n        this.props.onUserChange(userDoc);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Signup Page ERROR\", err);\r\n        alert(\"Something went wrong\");\r\n      });\r\n  }\r\n\r\n  // Retrieve the companies array from the back\r\n  componentDidMount() {\r\n    axios\r\n      .get(process.env.REACT_APP_SERVER_URL + \"/api/companies\", {\r\n        withCredentials: true\r\n      })\r\n      .then(response => {\r\n        const companiesArray = response.data;\r\n        this.setState({ companiesArray });\r\n      })\r\n\r\n      .catch(err => {\r\n        console.log(\"COMPANIES ARRAY ERROR\", err);\r\n        alert(\"Something went wrong\");\r\n      });\r\n  }\r\n\r\n  onUserChange(companyDoc){\r\n    const { companiesArray } = this.state;\r\n    const companiesArrayCopy = [...companiesArray];\r\n    companiesArrayCopy.push(companyDoc);\r\n    this.setState({ companiesArray: companiesArrayCopy });\r\n  }\r\n\r\n\r\n  render() {\r\n    //console.log(this.state);\r\n    // check currentUser (received from App.js)\r\n    if (this.props.currentUser) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <section className=\"Signup\">\r\n        <h2>Sign Up</h2>\r\n\r\n        <form onSubmit={event => this.handleSubmitEvent(event)}>\r\n          <input\r\n            value={this.state.firstName}\r\n            onChange={event => this.genericSync(event)}\r\n            type=\"text\"\r\n            name=\"firstName\"\r\n            placeholder=\"First Name\"\r\n          />\r\n          <input\r\n            value={this.state.lastName}\r\n            onChange={event => this.genericSync(event)}\r\n            type=\"text\"\r\n            name=\"lastName\"\r\n            placeholder=\"Last Name\"\r\n          />\r\n          <input\r\n            value={this.state.email}\r\n            onChange={event => this.genericSync(event)}\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n          />\r\n          <input\r\n            value={this.state.originalPassword}\r\n            onChange={event => this.genericSync(event)}\r\n            type=\"password\"\r\n            name=\"originalPassword\"\r\n            placeholder=\"*****\"\r\n          />\r\n          {/* Dropdown select displaying the array of existing companies */}\r\n          <label>\r\n            Please, select your company:\r\n            {/* this way? */}\r\n            <select\r\n              value={this.state.companyId}\r\n              onChange={event =>\r\n                this.setState({\r\n                  companyId: event.target.value})\r\n              }\r\n            >\r\n              {this.state.companiesArray.map(oneCompany => (\r\n                <option key={oneCompany._id} value={oneCompany._id}>\r\n                  {oneCompany.name}, {oneCompany.subOffice}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            \r\n          </label>\r\n          {/* input to create your company if not on the previous list */}\r\n          Do you allow other lunchmates to you you to go to lunch?\r\n          <input\r\n            value={this.state.messenger}\r\n            onChange={event => this.checkboxSync(event)}\r\n            type=\"checkbox\"\r\n            name=\"messenger\"\r\n          />\r\n          {/* Allow user to import their avatar picture from their files */}\r\n          {/* Please, chose your avatar:\r\n          <input type=\"file\" /> */}\r\n          <button>Sign Up</button>\r\n          \r\n        </form>\r\n\r\n                  <label>\r\n            If your company doesn't appear in the list, please\r\n            <button onClick={() => this.setState({ isAddingCompany: true })}>\r\n              add it\r\n            </button> \r\n          </label>\r\n          {this.state.isAddingCompany && ( \r\n          <AddCompany onUserChange={companyDoc => this.onUserChange(companyDoc)} />\r\n          )}\r\n\r\n    </section>\r\n  );\r\n}\r\n}          \r\n\r\n\r\nexport default Signup;\r\n","import React, { Component } from \"react\";\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup.js\";\r\n\r\nclass SignLogPage extends Component {\r\n  render() { \r\n    return ( \r\n      <div className=\"SignLogPage\">\r\n      <Login currentUser={this.props.currentUser}\r\n              onUserChange={this.props.onUserChange}/>\r\n      <Signup currentUser={this.props.currentUser}\r\n              onUserChange={this.props.onUserChange}/>\r\n      </div>\r\n     );\r\n  }\r\n}\r\n \r\nexport default SignLogPage;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nclass RestaurantsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      shopFavored: false,\r\n      // empty array that will receive the result once filtered\r\n      searchResults: [],\r\n    };\r\n  }\r\n  // a modifier par /resto et une search générique par coordonnées de la boite\r\n  componentDidMount() {\r\n    const { searchTerm } = this.props;\r\n    console.log(\"RestoList/searchTerm\", searchTerm)\r\n    axios.get(process.env.REACT_APP_SERVER_URL + `/api/shop-search/${searchTerm}`, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Response data of shop/searchTerm:\", response.data);\r\n      const listOfShops = response.data.shop.businesses;\r\n      \r\n      // Check if the resto if part of the user's favorites\r\n      for (let i = 0; i < listOfShops.length; i++) {\r\n        //console.log(\"true\", response.data.user.yelpFavorites.includes(listOfShops[i].id));\r\n        if (response.data.user.yelpFavorites.includes(listOfShops[i].id)) {\r\n          listOfShops[i].shopinFav = true;  \r\n        } else {\r\n          listOfShops[i].shopinFav = false;\r\n        }\r\n      }\r\n      //console.log(\"listOfShops\", listOfShops);\r\n    this.setState({ searchResults: listOfShops });\r\n      \r\n    })\r\n    .catch(err => {\r\n      console.log(\"Search page ERROR Mount\", err);\r\n      alert(\"Something went wrong with the search, sorray\");\r\n    });\r\n  }\r\n\r\n// Need to tell it to update every time the searchTerm is updated\r\n  componentDidUpdate(previousProps) {\r\n    const { searchTerm } = this.props;\r\n    // \"PreviousProps\" is the object of the props before it was updated so need to look inside it\r\n    if (searchTerm === previousProps.searchTerm) {\r\n      return;\r\n    }\r\n\r\n    //(\"RestoList/searchTerm\", searchTerm)\r\n    axios.get(process.env.REACT_APP_SERVER_URL + `/api/shop-search/${searchTerm}`, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Response data of shop/searchTerm:\", response.data);\r\n      \r\n      // Check if the resto if part of the user's favorites\r\n      const listOfShops = response.data.shop.businesses;\r\n      for (let i = 0; i < listOfShops.length; i++) {\r\n        //console.log(\"true\", response.data.user.yelpFavorites.includes(listOfShops[i].id));\r\n        if (response.data.user.yelpFavorites.includes(listOfShops[i].id)) {\r\n          listOfShops[i].shopinFav = true;  \r\n        } else {\r\n          listOfShops[i].shopinFav = false;\r\n        }\r\n      }\r\n      //console.log(\"listOfShops\", listOfShops);\r\n    this.setState({ searchResults: listOfShops });\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Search page ERROR Update\", err);\r\n      alert(\"Something went wrong with the search, sorray\");\r\n    });\r\n  }\r\n\r\n   addShopToFav(oneResult) {\r\n    \r\n    const id = oneResult.id;\r\n    //console.log(\"id\", id);\r\n    return axios.put(process.env.REACT_APP_SERVER_URL + `/api/add-shop/${id}`, {}, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Response data of adding a resto to fav\", response.data);\r\n      this.setState({ shopFavored: true })\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Add-Shop ERROR\", err);\r\n      alert(\"Something went wrong with adding the shop to your favorites, sorry!\");\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { searchResults } = this.state;\r\n\r\n    return (\r\n      <section className=\"RestaurantsList\">\r\n        <ul>\r\n          {searchResults.map(oneResult => {\r\n            return (\r\n              <li key={oneResult.id}>\r\n                <img src={oneResult.image_url} alt={oneResult.name}/>\r\n                <h3><Link to={`/shop-details/${oneResult.id}`}>{oneResult.name}</Link></h3>\r\n                {/* <p>{oneResult.location.address1} {oneResult.location.zip_code} {oneResult.location.city}</p> */}\r\n                <p>rating Yelp: {oneResult.rating}</p>\r\n\r\n                {oneResult.shopinFav ? \r\n                  <p>This place is already in your favorites</p>\r\n                  :\r\n                  <div>\r\n                    {this.state.shopFavored ?\r\n                    <p>Added to your list of favorites</p> \r\n                    :\r\n                    <button onClick={() => this.addShopToFav(oneResult)}>+ Add to your favorites</button>\r\n                    }\r\n                  </div>\r\n                }\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RestaurantsList;\r\n","import React, { Component } from \"react\";\r\nimport \"./Search.css\";\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      userInput: \"\",\r\n      cuisine: \"\",\r\n      diet: [],\r\n      price_level: \"\",\r\n      searchSubmitted: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { searchTerm } = this.props;\r\n    this.setState({ userInput: searchTerm });\r\n  }\r\n\r\n  fetchUserInput(event) {\r\n    const { value } = event.target;\r\n    //console.log(\"Search/userInput\", this.state.userInput);\r\n    this.setState({ userInput: value });\r\n    //console.log(\"Search/event.target.value\", value);\r\n    //this.props.searchedTerm(value);\r\n  }\r\n\r\n  genericSync(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleMultipleSelectChangeDiet = event => {\r\n    const allValsDiet = Array.from(event.target.selectedOptions).map(\r\n      option => option.value\r\n    );\r\n    this.setState({ diet: allValsDiet });\r\n  };\r\n\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    // const { value } = event.target;\r\n    // console.log(\"Search/event.target.value\", value);\r\n    this.props.getSearchedTerm(this.state.userInput);\r\n    \r\n    this.setState({ searchSubmitted: true });\r\n  }\r\n\r\n  render() {\r\n    // if (this.state.searchSubmitted) {\r\n    //   // redirect back to the phone list page if the form submission worked\r\n    //   return <Redirect to=\"/resto-list\" />\r\n    // }\r\n\r\n    //const { searchTerm } = this.props;\r\n\r\n    return (\r\n      <section className=\"Search\">\r\n        <form onSubmit={event => this.handleSubmit(event)}>\r\n          <label>\r\n            <input onChange={event => this.fetchUserInput(event)}\r\n            value={this.state.userInput}\r\n            type=\"text\" name=\"userInput\" placeholder=\"Search...\" />\r\n          </label>\r\n\r\n          <label>\r\n            Cuisine:\r\n            <select onChange={event => this.genericSync(event)}\r\n                    name=\"cuisine\" value={this.state.cuisine}>\r\n                <option value=\"American\">American</option>\r\n                <option value=\"British\">British</option>\r\n                <option value=\"Chinese\">Chinese</option>\r\n                <option value=\"French\">French</option>\r\n                <option value=\"Greek\">Greek</option>\r\n                <option value=\"Burgers\">Burgers</option>\r\n                <option value=\"Indian\">Indian</option>\r\n                <option value=\"Italian\">Italian</option>\r\n                <option value=\"Pizza\">Pizza</option>\r\n                <option value=\"Japanese\">Japanese</option>\r\n                <option value=\"Mexican\">Mexican</option>\r\n                <option value=\"Moroccan\">Moroccan</option>\r\n                <option value=\"Spanish\">Spanish</option>\r\n                <option value=\"Thaï\">Thaï</option>\r\n                <option value=\"Lebansese\">Lebansese</option>\r\n                <option value=\"Turkish\">Turkish</option>\r\n                <option value=\"Vietnamese\">Vietnamese</option>\r\n                <option value=\"Healthy\">Healthy</option>\r\n                <option value=\"Portuguese\">Portuguese</option>\r\n                <option value=\"Gourmet\">Gourmet</option>\r\n                <option value=\"German\">German</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            Type of diet:\r\n            <select onChange={this.handleMultipleSelectChangeDiet}\r\n                    name=\"diet\" value={this.state.diet} multiple>\r\n              <option value=\"Vegan\">Vegan</option>\r\n              <option value=\"Veggie\">Veggie</option>\r\n              <option value=\"Gluten Free\">Gluten Free</option>\r\n              <option value=\"Dairy-free\">Dairy-free</option>\r\n              <option value=\"Paleo\">Paleo</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            Price range:\r\n            <select onChange={event => this.genericSync(event)}\r\n                    name=\"price_level\" value={this.state.price_level}>\r\n              <option value=\"€\">€</option>\r\n              <option value=\"€€\">€€</option>\r\n              <option value=\"€€€\">€€€</option>\r\n              <option value=\"€€€€\">€€€€</option>\r\n            </select>\r\n          </label>\r\n\r\n\r\n          <button>Look for a place!</button>\r\n          \r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport RestaurantsList from \"./RestaurantsList.js\";\r\nimport Search from \"./Search.js\";\r\n\r\nclass ResearchResultsListPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { };\r\n  }\r\n\r\n  // SEARCH BAR\r\n  getSearchedTerm(term) {\r\n    //console.log(term);\r\n    this.setState({ searchTerm: term });\r\n    //console.log(\"App.jsState/searchTerm\", this.state.searchTerm);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"ResearchResultsListPage\">\r\n        <Search\r\n          searchTerm={this.props.searchTerm}\r\n          getSearchedTerm={this.props.getSearchedTerm}\r\n        />\r\n\r\n        <RestaurantsList searchTerm={this.props.searchTerm} />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResearchResultsListPage;\r\n","import React, { Component } from \"react\";\r\n// import TimeframeRadioButton from \"./TimeFrameRadioButton.js\";\r\n// import PriceLevelRadioButton from \"./PriceLevelRadioButton.js\";\r\nimport \"./AddReview.css\";\r\nimport axios from \"axios\";\r\n\r\nclass AddReview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rating: 0,\r\n      cuisine: [],\r\n      diet: [],\r\n      timeframe: [],\r\n      types: [],\r\n      price_level: \"\",\r\n      comment: \"\"\r\n      // isSubmitSuccessful: false,\r\n    };\r\n  }\r\n\r\n  genericSync(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value }, () => {\r\n      console.log(\"hello\", this.state);\r\n    });\r\n  }\r\n\r\n  handleMultiSelectChangeCuisine = event => {\r\n    console.log(\"handleMultiSelectChange\");\r\n    // const { cuisine } = event.target;\r\n    const allValsCuisine = Array.from(event.target.selectedOptions).map(\r\n      option => option.value\r\n    );\r\n    this.setState({ cuisine: allValsCuisine }, () => {\r\n      console.log(this.state.cuisine);\r\n    });\r\n  };\r\n\r\n  handleMultiSelectChangeDiet = event => {\r\n    console.log(\"handleMultiSelectChange\");\r\n    // const { diet } = event.target;\r\n    const allValsDiet = Array.from(event.target.selectedOptions).map(\r\n      option => option.value\r\n    );\r\n    console.log(this.state.diet);\r\n    this.setState({ diet: allValsDiet });\r\n  };\r\n\r\n  handleMultiSelectChangeTypes = event => {\r\n    console.log(\"handleMultiSelectChange\");\r\n    // const { types } = event.target;\r\n    const allValsTypes = Array.from(event.target.selectedOptions).map(\r\n      option => option.value\r\n    );\r\n    console.log(this.state.types);\r\n    this.setState({ types: allValsTypes });\r\n  };\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(\"PROPS\", this.props.shop)\r\n   // const { params } = this.props.match;\r\n    const shopId = this.props.shop;\r\n   // console.log(\"params from the front\", params)\r\n    console.log(\"params from the front\", shopId)\r\n\r\n    axios\r\n      .post(process.env.REACT_APP_SERVER_URL + `/api/shop-details/${shopId}`, this.state, {\r\n        withCredentials: true\r\n      })\r\n      .then(response => {\r\n        console.log(\"add review\", response.data);\r\n        // this.setState({ isSubmitSuccessful: true })\r\n      })\r\n      .catch(err => {\r\n        console.log(\"add review\", err);\r\n        alert(\"Sorry! Something went wrong.\");\r\n      });\r\n  }\r\n  render() {\r\n    const {\r\n      rating,\r\n      cuisine,\r\n      diet,\r\n      timeframe,\r\n      types,\r\n      price_level,\r\n      comment\r\n    } = this.state;\r\n    console.log(this.props.match);\r\n    return (\r\n      <div className=\"AddReview\">\r\n        <form onSubmit={event => this.handleSubmit(event)}>\r\n          <label>\r\n            Rating\r\n            <input\r\n              value={rating}\r\n              onChange={event => this.genericSync(event)}\r\n              type=\"number\"\r\n              name=\"rating\"\r\n              max=\"5\"\r\n              min=\"0\"\r\n            />\r\n          </label>\r\n          <p>What type of cuisine was it?</p>\r\n          <select\r\n            value={cuisine}\r\n            onChange={this.handleMultiSelectChangeCuisine}\r\n            multiple\r\n            name=\"cuisine\"\r\n          >\r\n            <option value=\"American\">American</option>\r\n            <option value=\"British\">British</option>\r\n            <option value=\"Chinese\">Chinese</option>\r\n            <option value=\"French\">French</option>\r\n            <option value=\"Greek\">Greek</option>\r\n            <option value=\"Burgers\">Burgers</option>\r\n            <option value=\"Indian\">Indian</option>\r\n            <option value=\"Italian\">Italian</option>\r\n            <option value=\"Pizza\">Pizza</option>\r\n            <option value=\"Japanese\">Japanese</option>\r\n            <option value=\"Mexican\">Mexican</option>\r\n            <option value=\"Moroccan\">Moroccan</option>\r\n            <option value=\"Spanish\">Spanish</option>\r\n            <option value=\"Thaï\">Thaï</option>\r\n            <option value=\"Lebanese\">Lebanese</option>\r\n            <option value=\"Turkish\">Turkish</option>\r\n            <option value=\"Vietnamese\">Vietnamese</option>\r\n            <option value=\"Healthy\">Healthy</option>\r\n            <option value=\"Portuguese\">Portuguese</option>\r\n            <option value=\"Gourmet\">Gourmet</option>\r\n            <option value=\"German\">German</option>\r\n          </select>\r\n\r\n          <label>\r\n            What type of diet did you found?\r\n            <select\r\n              value={diet}\r\n              onChange={this.handleMultiSelectChangeDiet}\r\n              multiple\r\n              name=\"diet\"\r\n            >\r\n              <option value=\"Vegan\">Vegan</option>\r\n              <option value=\"Veggie\">Veggie</option>\r\n              <option value=\"Gluten Free\">Gluten Free</option>\r\n              <option value=\"Paleo\">Paleo</option>\r\n              <option value=\"Dairy-free\">Dairy-free</option>\r\n            </select>\r\n          </label>\r\n\r\n          {/* <PriceLevelRadioButton />\r\n          <TimeframeRadioButton /> */}\r\n\r\n          <label>\r\n            How long did you wait?\r\n            <select name=\"timeframe\"\r\n            value={timeframe}\r\n            onChange={event => this.genericSync(event)}>\r\n              <option value=\"quick and easy\">Quick and Easy</option>\r\n              <option value=\"time to chat\">Time to chat</option>\r\n              <option value=\"be patient\">Be patient</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            What about the price?\r\n            <select\r\n              value={price_level}\r\n              onChange={event => this.genericSync(event)}\r\n              name=\"price_level\"\r\n            >\r\n              <option value=\"€\">€</option>\r\n              <option value=\"€€\">€€</option>\r\n              <option value=\"€€€\">€€€</option>\r\n              <option value=\"€€€€\">€€€€</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            Was it possible to sit? And to take away?\r\n            <select \r\n            value={types}\r\n            onChange={this.handleMultiSelectChangeTypes}\r\n            name=\"types\"\r\n            multiple>\r\n              <option value=\"Take away\">Take away</option>\r\n              <option value=\"Sit-in\">Sit-in</option>\r\n            </select>\r\n          </label>\r\n          <input\r\n            value={comment}\r\n            onChange={event => this.genericSync(event)}\r\n            type=\"text\"\r\n            name=\"comment\"\r\n            placeholder=\"Let the world know!\"\r\n          />\r\n          <button>Submit Your Review</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddReview;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass OneReview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reviewsArray: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { shop } = this.props;\r\n    axios\r\n      .get(process.env.REACT_APP_SERVER_URL + `/api/review/${shop}`, { withCredentials: true })\r\n      .then(response => {\r\n        console.log(\"Response data of /reviews by shopId\", response.data);\r\n        this.setState({ reviewsArray: response.data });\r\n        console.log(\"REVIEWS ARRAY\", this.state.reviewsArray);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Search page ERROR\", err);\r\n        alert(\"Something went wrong with the search, sorray\");\r\n      });\r\n  }\r\n  \r\n  render() {\r\n    const { reviewsArray } = this.state;\r\n    console.log(\"REVIEWS ARRAY IN RENDER\", reviewsArray);\r\n\r\n    return (\r\n      <section className=\"OneReview\">\r\n       {reviewsArray.map(oneReview => {\r\n         return (\r\n           <div>\r\n             <div className=\"ReviewerPicture\">\r\n               <img src=\"user-picture\" alt=\"reviewer\" />\r\n             </div>\r\n             <div className=\"ReviewInfo\">\r\n               <h3>{oneReview.userId.firstName}</h3>\r\n               <p>{oneReview.rating}</p>\r\n               <div>{oneReview.diet.map(oneDiet => {\r\n                 return (\r\n                   <p>{oneDiet}</p>\r\n                 )})}\r\n                 </div>\r\n               <div>{oneReview.cuisine.map(oneCuisine => {\r\n                 return (\r\n                   <p>{oneCuisine}</p>\r\n                 )})}\r\n               </div>\r\n               <p>{oneReview.price_level}</p>\r\n               <p>{oneReview.timeframe}</p>\r\n               <p>{oneReview.comment}</p>\r\n              <div>{oneReview.types.map(oneType => {\r\n                return (\r\n                  <p>{oneType}</p>\r\n                )})}\r\n              </div>\r\n            </div>\r\n           </div>\r\n         );\r\n       })}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OneReview;\r\n","import React, { Component } from \"react\";\r\nimport AddReview from \"./AddReview\";\r\nimport OneReview from \"./OneReview.js\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"./RestaurantDetails.css\";\r\n\r\nclass RestaurantDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shopInFav: false,\r\n      shopFavored: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n   \r\n    const { params } = this.props.match;\r\n    //console.log(\"params\", params);\r\n    axios.get(process.env.REACT_APP_SERVER_URL + `/api/shop-details/${params.shopId}`, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Response data of single restaurant\", response.data);\r\n      if (response.data.user.yelpFavorites.includes(params.shopId)) {\r\n        this.setState({shopInFav: true});\r\n      }\r\n      this.setState(response.data.shop);\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Shop Details ERROR\", err);\r\n      alert(\"Something went wrong with the shop details list, sorray\");\r\n    });\r\n  }\r\n\r\n  addShopToFav() {\r\n    console.log(\"coucou\")\r\n    const { params } = this.props.match;\r\n    axios.put(process.env.REACT_APP_SERVER_URL + `/api/add-shop/${params.shopId}`, {}, { withCredentials: true })\r\n    .then(response => {\r\n      //console.log(\"Response data of adding a resto to fav\", response.data);\r\n      this.setState({ shopFavored: true })\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Add-Shop ERROR\", err);\r\n      alert(\"Something went wrong with adding the shop to your favorites, sorry!\");\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const shopId = this.props.match.params.shopId;\r\n    console.log(\"resto details\", shopId)\r\n    const { name, rating, display_phone, price, image_url } = this.state;\r\n    return (\r\n      <section className=\"RestaurantDetails\">\r\n        <h2>Hey I'm your Restaurant Details Component!</h2>\r\n        <div className=\"RestaurantDetailsHeader\">\r\n          <img src={image_url} alt={name} />\r\n\r\n          <div className=\"RestaurantDetailsInfo\">\r\n            <h2>{name}</h2>\r\n            <p>Rating: {rating}</p>\r\n            {/* <p>{location.address1} {location.zip_code} {location.city}</p> */}\r\n            <p>{display_phone}</p>\r\n            <p>Type of cuisine</p>\r\n            <p>Diets available</p>\r\n            <p>{price}</p>\r\n            \r\n            {this.state.shopInFav ? \r\n              <p>This place is in your favorites</p> \r\n              : \r\n              <div> \r\n                {this.state.shopFavored ? \r\n                <p>Added to your list of favorites!</p> \r\n                : \r\n                <button onClick={() => this.addShopToFav()}>+ Add to your favorites</button>\r\n                }\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"ReviewsList\">\r\n        {/* show the component AddReview when the user click on the Add a Review button */}\r\n        <AddReview  shop={shopId} className=\"HiddenAddReviewForm\" />\r\n\r\n        <OneReview shop={shopId}/>\r\n\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RestaurantDetails;\r\n","import React, { Component } from \"react\";\r\nimport { NavLink} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./NavBar.css\";\r\n\r\n\r\nclass NavBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  logOutClick() {\r\n    axios\r\n      .delete(process.env.REACT_APP_SERVER_URL + \"/api/logout\", { withCredentials: true })\r\n      .then(() => {\r\n        this.props.onLogOut(null);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Logout Error\", err);\r\n        alert(\"Sorry, something went wrong!\");\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.props;\r\n    //console.log(currentUser);\r\n    return (\r\n      <section className=\"NavBar\">\r\n        <div className=\"logo\">\r\n          <NavLink to=\"/\">\r\n          <img\r\n            src=\"./images/logo_lunchm8_black.png\"\r\n            alt=\"LunchMates\"\r\n          />\r\n          </NavLink>\r\n        </div>\r\n        <nav>\r\n          {currentUser ? (\r\n            <div className=\"LoggedinUserNav\">\r\n              <p><NavLink to=\"/profile\">Hi, {currentUser.firstName}</NavLink></p>\r\n              <button onClick={() => this.logOutClick()}>Log out</button>\r\n            </div>\r\n          ) : (\r\n              <button><NavLink to=\"/signup-page\">Sign Up / Log In</NavLink></button>\r\n          )}\r\n        </nav>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport RestaurantPicturePreview from \"./RestaurantPicturePreview.js\";\r\nimport OneReview from \"./OneReview.js\";\r\n\r\nclass UserProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.props;\r\n    //console.log(\"UserProfile\", currentUser)\r\n    return (\r\n      <section className=\"UserProfile\">\r\n        <div className=\"UserProfileHeader\">\r\n          <img src=\"avatar\" alt=\"user\" />\r\n\r\n          <div className=\"UserInfo\">\r\n            <h2>Name </h2>\r\n            <h3>Company </h3>\r\n            <p>Email</p>\r\n\r\n            <div>\r\n              <input type=\"checkbox\" name=\"messenger\"/>\r\n                Enable other users to contact me and have lunch\r\n              \r\n            </div>\r\n            {/* Display one or the other depending if you are the current user or not */}\r\n            <div>\r\n              <Link to=\"/\">Send A message to have Lunch</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"FavoritePlaces\">\r\n          <h2>My favorite places</h2>\r\n          <RestaurantPicturePreview currentUser={this.props.currentUser}/>\r\n        </div>\r\n\r\n        <div className=\"MyLastReviews\">\r\n          <h2>My last reviews</h2>\r\n          <OneReview />\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProfile;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./App.css\";\r\nimport HomePage from \"./components/HomePage.js\";\r\nimport NotFound from \"./components/NotFound.js\";\r\nimport SignLogPage from \"./components/SignLogPage.js\";\r\nimport ResearchResultsListPage from \"./components/ResearchResultsListPage\";\r\nimport RestaurantDetails from \"./components/RestaurantDetails.js\";\r\nimport NavBar from \"./components/NavBar.js\";\r\nimport UserProfile from \"./components/UserProfile.js\";\r\nimport AddReview from \"./components/AddReview.js\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentUser: null,\r\n      searchTerm: \"\",\r\n    };\r\n  }\r\n\r\n  // CHECK USER\r\n componentDidMount() {\r\n    axios\r\n      .get(process.env.REACT_APP_SERVER_URL + \"/api/checkuser\", { withCredentials: true })\r\n      .then(response => {\r\n        //console.log(\"Check user\", response.data);\r\n        const { userDoc } = response.data;\r\n        this.syncCurrentUser(userDoc);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"current user\", err);\r\n        alert(\"Sorry! Something went wrong\");\r\n      });\r\n  } \r\n\r\n  // UPDATE CURRENT USER\r\n  syncCurrentUser(userDoc) {\r\n    this.setState({ currentUser: userDoc });\r\n  }\r\n\r\n// search Term est nécecssaire dans HomePageSearch component et RestaurantsList component, obligés de le remonter dans App.js\r\n  getSearchedTerm(term) {\r\n    //console.log(term);\r\n    this.setState({ searchTerm: term });\r\n    //console.log(\"App.jsState/searchTerm\", this.state.searchTerm);\r\n  }\r\n\r\n  render() {\r\n    \r\n    //console.log(this.state.currentUser);\r\n    return (\r\n      <div className=\"App\">\r\n          <NavBar\r\n          currentUser={this.state.currentUser}\r\n          onLogOut={userDoc => this.syncCurrentUser(userDoc)}\r\n        />\r\n\r\n        <Switch>\r\n          {/* Le Context rend une variable disponible dans tous les arbres existant, sur plusieurs générations */}\r\n          {/* <Provider value={this.state.currentUser}> */}\r\n        \r\n            <Route \r\n                exact path=\"/\" \r\n                render={() => \r\n                  <HomePage \r\n                        currentUser={this.state.currentUser}\r\n                        onLogOut={userDoc => this.syncCurrentUser(userDoc)}\r\n                        getSearchedTerm={term => this.getSearchedTerm(term)}\r\n                  />\r\n                }\r\n              />\r\n\r\n            <Route path=\"/shop-search/:searchTerm\" component={ResearchResultsListPage} />\r\n            <Route path=\"/shop-details/:shopId\" component={RestaurantDetails} />\r\n            <Route path=\"/shop\" render={() => \r\n                < ResearchResultsListPage searchTerm={this.state.searchTerm} \r\n                    getSearchedTerm={term => this.getSearchedTerm(term)} />\r\n                  } \r\n            />\r\n\r\n            {/* <Route path=\"/shop-details/:shopId\" component={AddReview} /> */}\r\n            \r\n            <Route\r\n              path=\"/signup-page\"\r\n              render={() => \r\n                < SignLogPage\r\n                  currentUser={this.state.currentUser}\r\n                  onUserChange={userDoc => this.syncCurrentUser(userDoc)}\r\n                />\r\n              }\r\n            />\r\n            <Route path=\"/profile\" \r\n                  render={() => \r\n                  <UserProfile \r\n                  currentUser={this.state.currentUser}/>\r\n                  } \r\n            />\r\n\r\n            {/* <Route\r\n              path=\"/login\"\r\n              render={() => (\r\n                <SignLogPage\r\n                  currentUser={this.state.currentUser}\r\n                  onUserChange={userDoc => this.syncCurrentUser(userDoc)}\r\n                />\r\n              )}\r\n            /> */}\r\n            <Route component={NotFound} />\r\n          {/* </Provider> */}\r\n        </Switch>\r\n\r\n        <footer>\r\n          <p>Made with Sparkles</p>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}